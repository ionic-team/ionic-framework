@use "../../themes/ionic/ionic.globals.scss" as globals;
@import "./checkbox";

// Ionic Checkbox
// --------------------------------------------------

:host {
  // Border
  --border-radius: calc(var(--size) / #{globals.$ionic-border-radius-100} - #{globals.$ionic-border-radius-050});
  --border-width: #{globals.$ionic-border-size-025};
  --border-style: #{globals.$ionic-border-style-solid};
  --border-color: #{globals.$ionic-color-neutral-800};
  --checkmark-width: 3;

  // Focus
  --focus-ring-color: #{globals.$ionic-state-focus-1};
  --focus-ring-width: #{globals.$ionic-border-size-050};
  --focus-ring-offset: #{globals.$ionic-space-050};

  // Size
  --size: #{globals.$ionic-scale-600};

  // Checkbox Target area
  // --------------------------------------------------
  &::after {
    @include position(50%, 0, null, 0);

    position: absolute;

    height: 100%;
    min-height: globals.$ionic-scale-1200;

    transform: translateY(-50%);

    content: "";

    cursor: pointer;

    z-index: 1;
  }

  .native-wrapper {
    position: relative;
  }
}

// Ionic Design Checkbox Sizes
// --------------------------------------------------
:host(.checkbox-size-small) {
  --border-radius: #{globals.$ionic-border-radius-050};
  --size: #{globals.$ionic-scale-400};
}

// Ionic Design Checkbox Invalid
// --------------------------------------------------
:host(.ion-invalid) {
  --focus-ring-color: #{globals.$ionic-state-focus-2};

  .checkbox-icon {
    border-color: globals.$ionic-color-danger-800;
  }
}

// Checkbox Disabled
// --------------------------------------------------
// disabled, indeterminate checkbox
:host(.checkbox-disabled.checkbox-indeterminate) .checkbox-icon {
  border-width: globals.$ionic-border-size-0;

  background-color: #{globals.$ionic-color-base-white};
}

// disabled, unchecked checkbox
:host(.checkbox-disabled) .checkbox-icon {
  border-color: globals.$ionic-color-neutral-800;

  background-color: globals.$ionic-state-disabled;
}

// disabled, checked checkbox
:host(.checkbox-disabled.checkbox-checked) .checkbox-icon {
  border-width: globals.$ionic-border-size-0;
  background-color: globals.$ionic-color-primary-base;
  opacity: 0.6;
}

// Checkbox Hover
// --------------------------------------------------------
@media (any-hover: hover) {
  :host(:hover) .checkbox-icon {
    background-color: globals.$ionic-color-neutral-100;
  }

  :host(:hover.checkbox-checked) .checkbox-icon,
  :host(:hover.checkbox-indeterminate) .checkbox-icon {
    background-color: globals.$ionic-color-primary-800;
  }
}

// Checkbox Focus
// --------------------------------------------------
// Only show the focus ring when the checkbox is focused and not disabled
:host(.ion-focused:not(.checkbox-disabled)) .checkbox-icon {
  outline: var(--focus-ring-width) globals.$ionic-border-style-solid var(--focus-ring-color);
  outline-offset: var(--focus-ring-offset);
}

// Checkbox: Active
// --------------------------------------------------------
:host(.ion-activated) .checkbox-icon {
  background-color: globals.$ionic-color-neutral-200;
}

:host(.ion-activated.checkbox-checked) .checkbox-icon,
:host(.ion-activated.checkbox-indeterminate) .checkbox-icon {
  background-color: globals.$ionic-color-primary-900;
}

// Ionic Design Checkbox Shapes
// --------------------------------------------------
:host(.checkbox-shape-rectangular) {
  --border-radius: #{globals.$ionic-border-radius-0};
}

.checkbox-wrapper {
  min-height: #{globals.$ionic-scale-1200};
}
