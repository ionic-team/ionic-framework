@use "../../themes/ionic/ionic.globals.scss" as globals;
@use "./badge.common";

// Ionic Badge
// --------------------------------------------------

:host {
  --padding-start: #{globals.$ion-space-100};
  --padding-end: #{globals.$ion-space-100};
  --padding-top: #{globals.$ion-space-0};
  --padding-bottom: #{globals.$ion-space-0};

  @include globals.typography(globals.$ion-body-sm-medium);

  display: inline-flex;

  align-items: center;
  justify-content: center;

  min-width: globals.$ion-scale-250;
}

// Bold Badge
// --------------------------------------------------

:host(.badge-bold) {
  --background: #{globals.ion-color(primary, base)};
  --color: #{globals.ion-color(primary, contrast)};
}

:host(.badge-bold.ion-color) {
  background: globals.current-color(base);
  color: globals.current-color(contrast);
}

// Subtle Badge
// --------------------------------------------------

:host(.badge-subtle) {
  --background: #{globals.ion-color(primary, base, $subtle: true)};
  --color: #{globals.ion-color(primary, contrast, $subtle: true)};
}

:host(.badge-subtle.ion-color) {
  background: globals.current-color(base, $subtle: true);
  color: globals.current-color(contrast, $subtle: true);
}

// Badge Shapes
// --------------------------------------------------

/* Soft Badge */
:host(.badge-soft) {
  @include globals.border-radius(globals.$ion-border-radius-200);
}

:host(.badge-small.badge-soft) {
  @include globals.border-radius(globals.$ion-border-radius-100);
}

/* Round Badge */
:host(.badge-round) {
  @include globals.border-radius(globals.$ion-border-radius-full);
}

/* Rectangular Badge */
:host(.badge-rectangular) {
  @include globals.border-radius(globals.$ion-border-radius-0);
}

// Badge Sizes
// --------------------------------------------------

/* Small Badge */
:host(.badge-small) {
  --padding-start: #{globals.$ion-space-050};
  --padding-end: #{globals.$ion-space-050};

  min-width: globals.$ion-scale-400;
  height: globals.$ion-scale-400;
}

:host(.badge-small) ::slotted(ion-icon) {
  width: globals.$ion-scale-300;
  height: globals.$ion-scale-300;
}

/* Medium Badge */
:host(.badge-medium) {
  @include globals.typography(globals.$ion-body-md-medium);
  min-width: globals.$ion-scale-600;
  height: globals.$ion-scale-600;
}

:host(.badge-medium) ::slotted(ion-icon) {
  width: globals.$ion-scale-400;
  height: globals.$ion-scale-400;
}

// Badge (hint)
// --------------------------------------------------

:host(:empty) {
  --padding-start: 0;
  --padding-end: 0;
}

:host([vertical]:not(:empty)) {
  --padding-start: #{globals.$ion-scale-100};
  --padding-end: #{globals.$ion-scale-100};
  --padding-top: #{globals.$ion-scale-100};
  --padding-bottom: #{globals.$ion-scale-100};
}

// Badge (hint) Sizes
// --------------------------------------------------

/* sm */
:host(.badge-small:empty) {
  min-width: globals.$ion-scale-200;
  height: globals.$ion-scale-200;
}

/* md */
:host(.badge-medium:empty) {
  min-width: globals.$ion-scale-300;
  height: globals.$ion-scale-300;
}

/* lg */
:host(.badge-large:empty) {
  min-width: globals.$ion-scale-400;
  height: globals.$ion-scale-400;
}

// Badge Inside Tab Button
// --------------------------------------------------

:host([vertical].in-tab-button) {
  position: relative;
}

// Icon Inside Badge Hint
// --------------------------------------------------
:host([vertical]) ::slotted(ion-icon) {
  @include globals.position(50%, null, null, 50%);

  position: absolute;

  transform: translate(-50%, -50%);
}

// Badge in Button
// --------------------------------------------------

:host([vertical]:not(.in-tab-button).in-button.badge-small) {
  @include globals.position(null, calc(-1 * var(globals.$ion-space-050)));
}

:host([vertical]:not(.in-tab-button).in-button.badge-medium),
:host([vertical]:not(.in-tab-button).in-button.badge-large) {
  @include globals.position(null, globals.$ion-space-050);
}

:host(:not(:empty).in-button) {
  @include globals.typography(globals.$ion-body-action-xs);
  min-width: globals.$ion-scale-400;
  height: globals.$ion-scale-400;

  ::slotted(ion-icon) {
    width: globals.$ion-scale-300;
    height: globals.$ion-scale-300;
  }
}
